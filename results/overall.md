Overview
---------

This is preliminary performance data. Not in any way official as I am still doing some optimizing, 
especially to overcome Scala/Java array size limitations.

In my experiments, JSON and XML results files are written to a logging folder (on the cluster I use at ANL).
A Python script (results2db.py) aggregates all of the files in an sqlite3 database, which allows me to 
query the performance data for various scaling experiments (strong, weak, and data scaling).

Query
------

This query organizes the performance data and also has some computed columns for aggregate data size (sum\_gb) 
and total number of Spark partitions (partitions). We use nanosecond-resolution timing for all experiments, 
but convert to seconds since most of these runs take seconds or longer, given the data size.

```sql
.mode csv
.header on

select (nodes*blocks*block_size)/1024 as sum_gb,
       (nodes*cores*nparts) as partitions,
       nodes,blocks,block_size,
       map_time/1E9 as map_time_sec,
       shift_time/1E9 as shift_time_sec
       from results
       order by sum_gb,nodes,cores,blocks,block_size;
```

Initial Results
----------------

sum_gb  |  partitions  |  nodes  |  blocks  |  block_size  |  map_time_sec   |  shift_time_sec
--------|--------------|---------|----------|--------------|-----------------|----------------
1       |  120         |  1      |  1       |  1024        |  9.49230242     |  11.187279754  
2       |  120         |  1      |  2       |  1024        |  7.860700805    |  10.938804099  
4       |  120         |  1      |  1       |  4096        |  22.387504844   |  37.544617995  
8       |  120         |  1      |  1       |  8192        |  44.79551159    |  65.967309739  
8       |  120         |  1      |  2       |  4096        |  29.245142558   |  36.79728485   
10      |  120         |  1      |  10      |  1024        |  8.165143958    |  11.017871792  
16      |  120         |  1      |  1       |  16384       |  83.827629311   |  129.325518466 
16      |  120         |  1      |  2       |  8192        |  35.997691622   |  52.286796233  
16      |  480         |  4      |  4       |  1024        |  7.742710136    |  10.923817219  
32      |  120         |  1      |  2       |  16384       |  75.450454905   |  106.947880642 
32      |  480         |  4      |  8       |  1024        |  7.77656619     |  10.811013287  
40      |  120         |  1      |  10      |  4096        |  34.685548284   |  45.804215518  
64      |  480         |  4      |  4       |  4096        |  21.507044951   |  40.282739497  
80      |  120         |  1      |  10      |  8192        |  56.016688743   |  92.917976473  
128     |  480         |  4      |  4       |  8192        |  35.639206607   |  60.655328242  
128     |  480         |  4      |  8       |  4096        |  23.281179248   |  37.510974172  
160     |  120         |  1      |  10      |  16384       |  107.879872464  |  161.914295799 
160     |  480         |  4      |  40      |  1024        |  8.955616768    |  12.106748367  
256     |  480         |  4      |  4       |  16384       |  68.025931167   |  114.406338813 
256     |  480         |  4      |  8       |  8192        |  35.626654779   |  56.203812948  
256     |  1920        |  16     |  16      |  1024        |  9.974275711    |  12.026442088  
512     |  480         |  4      |  8       |  16384       |  68.380417458   |  108.070276816 
512     |  1920        |  16     |  32      |  1024        |  9.241717213    |  11.674727429  
640     |  480         |  4      |  40      |  4096        |  26.550236638   |  46.463715661  
1024    |  1920        |  16     |  16      |  4096        |  25.154339642   |  43.082408409  
1024    |  3840        |  32     |  32      |  1024        |  9.813853007    |  12.20286686   
1280    |  480         |  4      |  40      |  8192        |  53.758236061   |  99.250585025  
2048    |  1920        |  16     |  16      |  8192        |  42.152526939   |  78.595949264  
2048    |  1920        |  16     |  32      |  4096        |  25.285102525   |  43.773884171  
2048    |  3840        |  32     |  64      |  1024        |  9.896604006    |  12.205256849  
2560    |  480         |  4      |  40      |  16384       |  103.260670967  |  295.963807711 
2560    |  1920        |  16     |  160     |  1024        |  10.630248724   |  13.437175268  
4096    |  1920        |  16     |  16      |  16384       |  87.356919225   |  139.582138947 
4096    |  1920        |  16     |  32      |  8192        |  45.359089577   |  75.830392133  
4096    |  7680        |  64     |  64      |  1024        |  11.288899401   |  12.539636345  
4096    |  7680        |  64     |  64      |  1024        |  11.940525895   |  12.588259114  
8192    |  1920        |  16     |  32      |  16384       |  86.730391688   |  138.044655276 
8192    |  3840        |  32     |  32      |  8192        |  47.738119831   |  85.182400637  
8192    |  3840        |  32     |  64      |  4096        |  26.562015524   |  47.573531011  
8192    |  7680        |  64     |  128     |  1024        |  13.083205631   |  12.92578032   
8192    |  7680        |  64     |  128     |  1024        |  13.325312719   |  12.947538243  
10240   |  1920        |  16     |  160     |  4096        |  28.120197295   |  48.66131346   
10240   |  3840        |  32     |  320     |  1024        |  12.166043081   |  13.336861651  
16384   |  3840        |  32     |  64      |  8192        |  50.121410834   |  79.104615405  
16384   |  7680        |  64     |  64      |  4096        |  29.000550037   |  44.763618832  
16384   |  7680        |  64     |  64      |  4096        |  26.670723664   |  44.295771099  
20480   |  1920        |  16     |  160     |  8192        |  54.501833723   |  100.523928876 
32768   |  3840        |  32     |  64      |  16384       |  95.842676367   |  142.165313596 
32768   |  7680        |  64     |  64      |  8192        |  50.809628396   |  79.344374638  
32768   |  7680        |  64     |  64      |  8192        |  51.326331985   |  79.841838054  
32768   |  7680        |  64     |  128     |  4096        |  28.562213553   |  44.953824337  
32768   |  7680        |  64     |  128     |  4096        |  28.723441187   |  45.913019037  
40960   |  1920        |  16     |  160     |  16384       |  107.544266763  |  327.085832207 
40960   |  3840        |  32     |  320     |  4096        |  28.260316876   |  49.979699696  
40960   |  7680        |  64     |  640     |  1024        |  13.505792689   |  13.626500193  
40960   |  7680        |  64     |  640     |  1024        |  13.152243481   |  13.219351823  
65536   |  7680        |  64     |  64      |  16384       |  89.860041958   |  141.601424568 
65536   |  7680        |  64     |  64      |  16384       |  97.0442744     |  151.922150084 
65536   |  7680        |  64     |  128     |  8192        |  49.394351826   |  80.539155527  
65536   |  7680        |  64     |  128     |  8192        |  51.819751749   |  80.504287932  
81920   |  3840        |  32     |  320     |  8192        |  56.334765282   |  98.634534432  
131072  |  7680        |  64     |  128     |  16384       |  94.627052207   |  142.505928883 
131072  |  7680        |  64     |  128     |  16384       |  96.11682483    |  142.018595514 
163840  |  3840        |  32     |  320     |  16384       |  118.913206742  |  340.913021035 
163840  |  7680        |  64     |  640     |  4096        |  36.188554525   |  50.649436403  
163840  |  7680        |  64     |  640     |  4096        |  31.59453949    |  51.210787387  
327680  |  7680        |  64     |  640     |  8192        |  58.69999267    |  99.712920828  
327680  |  7680        |  64     |  640     |  8192        |  57.552415286   |  101.488121343 
655360  |  7680        |  64     |  640     |  16384       |  112.132417081  |  348.193784697 
655360  |  7680        |  64     |  640     |  16384       |  114.089997409  |  333.745649575 
